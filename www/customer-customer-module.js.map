{"version":3,"sources":["./src/app/home/customer/customer-routing.module.ts","./src/app/home/customer/customer.module.ts","./src/app/home/customer/customer.page.ts","./src/app/home/customer/customer.page.scss","./src/app/home/customer/customer.page.html"],"names":[],"mappings":"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","file":"customer-customer-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CustomerPage } from './customer.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CustomerPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CustomerPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CustomerPageRoutingModule } from './customer-routing.module';\n\nimport { CustomerPage } from './customer.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CustomerPageRoutingModule\n  ],\n  declarations: [CustomerPage]\n})\nexport class CustomerPageModule {}\n","\nimport { Router } from '@angular/router';\nimport { Component, OnInit } from '@angular/core';\nimport { CallNumber } from '@ionic-native/call-number/ngx';\n\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { ModalController } from '@ionic/angular';\nimport { AddCustomerPage } from '../../add-customer/add-customer.page'\nimport { AlertController } from '@ionic/angular';\n\n\n@Component({\n  selector: 'app-customer',\n  templateUrl: './customer.page.html',\n  styleUrls: ['./customer.page.scss'],\n})\nexport class CustomerPage implements OnInit {\n\n  constructor(\n\n    private router: Router,\n    private callNumber: CallNumber,\n    private firestore : AngularFirestore,\n    public modalController: ModalController,\n    private alertController:AlertController\n  ) { }\n  customers:any;\n  returnDat:any;\n  ModalPage: any;\n  async openModal() {\n    const modal = await this.modalController.create({\n      component: this.ModalPage,\n      cssClass: 'color-modal',\n    });\n\n    modal.onDidDismiss()\n      .then((event: any) => {\n        if (event['data']) {\n          console.log(\"We are here\");\n          this.returnDat = event['data'];\n          setTimeout(()=>{\n            this.selectSupplier(this.returnDat);\n          },600)\n        }\n      });\n\n    return await modal.present();\n  }\n  selectSupplier(boi){\n    this.modalController.dismiss(boi);\n  }\n\n\n\n  \n  call(boi) {\n    this.callNumber.callNumber(boi.phone, true)\n      .then(res => console.log('Launched dialer!', res))\n      .catch(err => console.log('Error launching dialer', err));\n  }\n\n  getSuppliers() {\n    if (window.localStorage.getItem('customers')) {\n      this.customers = JSON.parse(window.localStorage.getItem('customers'));\n    } else {\n\n    }\n      }\n  async askDelete(customer)\n  {\n    const alert3 = await this.alertController.create({\n      subHeader: \"Do you really want to delete staff?\",\n      \n      mode: 'ios',\n     \n      buttons: [{\n        text: 'Yes',\n        handler: data => {\n          \n          this.delete(customer);\n        },\n      },{\n        text:'No',\n        handler:data=>\n        {\n          \n        }\n      }\n      ],\n    });\n    await alert3.present();\n   \n    }\n    delete(customer)\n    {\n      \n      let newsuppliers = new Array();\n      this.customers = JSON.parse(window.localStorage.getItem('customers'));\n      console.log(this.customers.length)\n      this.customers.forEach((element)=>{\n        console.log(element.phone)\n        console.log(customer.phone)\n        console.log(element.phone!=customer.phone)\n        if(element.phone != customer.phone)\n        {\n           newsuppliers.push(element);\n        }\n        \n      })\n      console.log(newsuppliers.length)\n      window.localStorage.setItem('customers',JSON.stringify(newsuppliers))\n      this.customers = JSON.parse(window.localStorage.getItem('customers'))\n      this.firestore.collection('stores').doc(this.user.docID).update({\n        customers:newsuppliers,\n      })\n         }\n\n  user:any;\n  checkPaid()\n  {\n    this.user = JSON.parse(window.localStorage.getItem('user'))\n    this.firestore.collection(\"stores\").doc(this.user.docID).valueChanges().subscribe((res:any)=>\n    {\n      this.user.paid = res.paid;\n      this.user.basic = res.basic;\n    }\n    )\n    if(this.user.paid == 1)\n    {\n      console.log(\"We are here\")\n      this.user.basic = 1\n    }\n    window.localStorage.setItem('user',JSON.stringify(this.user))\n  }\n \n  addsupplier() {\n    this.ModalPage = AddCustomerPage;\n\n      \n     \n  }\n\n\n  ngOnInit() {\n    this.customers = JSON.parse(window.localStorage.getItem('customers'));\n  }\n  paid:any;\n\n  ionViewWillEnter() {\n    this.user = JSON.parse(window.localStorage.getItem('user'))\n    this.getSuppliers();\n    this.paid = JSON.parse(window.localStorage.getItem('paid'))\n    this.customers = JSON.parse(window.localStorage.getItem('customers'));\n    console.log(JSON.stringify(this.customers))\n    \n    \n    \n\n  }\n\n}\n","export default \"#inline {\\n  width: 100%;\\n  height: auto;\\n  display: flex;\\n}\\n\\n.one, .two {\\n  width: 50%;\\n  height: 100px;\\n  background-color: green;\\n  margin: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2N1c3RvbWVyLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUFRLFdBQUE7RUFBVyxZQUFBO0VBQVksYUFBQTtBQUkvQjs7QUFIQTtFQUFVLFVBQUE7RUFBVSxhQUFBO0VBQWEsdUJBQUE7RUFBdUIsWUFBQTtBQVV4RCIsImZpbGUiOiJjdXN0b21lci5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjaW5saW5le3dpZHRoOjEwMCU7aGVpZ2h0OmF1dG87ZGlzcGxheTpmbGV4O30gXG4ub25lLC50d297d2lkdGg6NTAlO2hlaWdodDoxMDBweDtiYWNrZ3JvdW5kLWNvbG9yOmdyZWVuO21hcmdpbjoxMHB4O30iXX0= */\";","export default \"<ion-header>\\n\\n  <ion-toolbar style=\\\"--background:  rgb(58, 43, 43);  /* fallback for old browsers */\\n \\n  \\\">    <div style=\\\"display: flex;color: white;\\\">\\n      <img style=\\\"height: 3em;object-fit: contain;\\\" src=\\\"../../../assets/logo.png\\\" alt=\\\"\\\">\\n      <ion-title style=\\\"text-align: center;color: white;  font-family: 'Francois One', sans-serif;\\\">CUSTOMERS\\n      </ion-title>\\n\\n    </div>\\n  </ion-toolbar>\\n</ion-header>\\n\\n\\n<ion-content>\\n\\n\\n  <div *ngIf=\\\"customers\\\" style=\\\"display: flex;justify-content: center;align-items: center;flex-direction: column;\\\">\\n\\n\\n\\n\\n    <ion-card *ngFor=\\\"let boi of customers\\\"\\n      style=\\\"display: flex;padding-left: 10px;padding-right: 10px;width: 95%;max-height: 6em;color: black;background: rgba(255, 255, 255, 0.349);margin-top: 18px;\\\">\\n      <img style=\\\"height: 4em;position: relative;top: 1em;\\\" src=\\\"../../../assets/boi.png\\\" alt=\\\"\\\">\\n      <div>\\n        <ion-icon (click)=\\\"call(boi)\\\" color=\\\"success\\\"\\n          style=\\\"background: rgba(74, 196, 4, 0.24);font-size: 25px;margin-top: 1em;border-radius: 50%;padding: 5px;position: relative;left: 20px;\\\"\\n          name=\\\"call\\\">\\n        </ion-icon>\\n\\n      </div>\\n      \\n      \\n      <div style=\\\"width: 72%;\\\">\\n\\n        <ion-title style=\\\"font-size: 20px;margin-top: 8px;text-align: center;font-family: 'Sans-serif'\\\" class=\\\"balu\\\"> {{boi.name}}</ion-title>\\n       <br>\\n        <ion-chip\\n          style=\\\"position:relative;top: -1.1em;left: 0.4em;display: flex;justify-content: center;align-items: center;text-align: center;\\\"\\n          color=\\\"primary\\\" mode='ios'>\\n          <ion-icon style=\\\"font-size: 16px;margin-right: 2px;\\\" name=\\\"call\\\"></ion-icon>\\n          <b>{{boi.phone}}</b>\\n        </ion-chip>\\n\\n      </div>\\n\\n      <div>\\n        <ion-icon (click)=\\\"askDelete(boi)\\\" color=\\\"success\\\"\\n          style=\\\"background: rgba(74, 196, 4, 0.041);font-size: 25px;margin-top: 0.5em;border-radius: 50%;padding: 5px;margin-top: 18px;\\\"\\n          name=\\\"trash\\\">\\n        </ion-icon>\\n\\n      </div>\\n\\n\\n\\n    </ion-card>\\n\\n  </div>\\n\\n  <div *ngIf=\\\"!customers\\\">\\n\\n\\n    <ion-label\\n      style=\\\"font-family: impact;color: rgba(128, 128, 128, 0.616);position: relative;top: 10em;text-align: center;font-size: 32px;display: flex;justify-content: center;align-items: center;\\\">\\n      NOTHING TO SHOW...!\\n    </ion-label>\\n\\n  </div>\\n\\n </ion-content>\\n\\n\";"],"sourceRoot":"webpack:///"}